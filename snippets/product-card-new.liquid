{% comment %} 
    Renders a product card

    Accepts:
    - product_card_product: {Object} Product Liquid object (optional)
    - media_size: {String} Size of the product image card. Values are "square" and "portrait". Default is "square" (optional)
    - show_secondary_image: {Boolean} Show the secondary image on hover. Default: false (optional)
    - add_image_padding: {Boolean} Enables padding on the image to space out the grid
    - show_vendor: {Boolean} Show the product vendor. Default: false
    - show_image_outline: {Boolean} Show card outline. Default: true (optional)
    - show_rating: {Boolean} Show the product rating. Default: false

    Usage:
    {% render 'prduct-card-new', show_vendor: section.settings.show_vendor %}
{% endcomment %}

{{ 'component-rating.css' | asset_url | stylesheet_tag }}

<div class="card-wrapper">
    <div class="card-information">
        <div class="card-information__wrapper">
            {% comment %} if you want to show the vendor info {% endcomment %}
            <span class="visually-hidden">{{ 'accessibility.vendor' }}<span>
            <div class="caption-with-letter-spacing light">{{ product_card_product.vendor }}<div>
            
            {% comment %} If the featured media is true, then {% endcomment %}
            <h3 class="card-information__text h5">
                <a class="full-unstyled-link" href="{{ product_card_product.url | default: '#' }}">{{ product_card_product.title | escape }}</a>
            </h3>
            
            {% comment %} Metafield of product section {% endcomment %}
            <span class="caption-large light">{{ block.settings.description | escape }}</span>

            {% comment %} If you want to show the product's metafield, add some logic {% endcomment %}
            <div class="rating" role="img">
                <span aria-hidden="true" class="rating-star color-icon-{{ settings.accent_icons }}"></span>
            <div>
            <p class="rating-text caption">
                <span aria-hidden="true">{{ product_card_product.metafields.reviews.value }}<span>
            </p>
            <p class="rating-count caption">
                <span aria-hidden="true">({{ product_card_product.metafields.reviews.rating_count }})</span>
                <span class="visually-hidden">{{ product_card_product.metafields.reviews.rating_count }} {{ "accessibility.total_reviews" | t }}</span>
            </p>

            {% comment %} Put your price here {% endcomment %}
            {% render 'price', product: product_card_product, price_class: '' %}
        <div>
    </div>
    <div class="card card--product" tabindex= "-1">
        <div class="card__inner">
            {% comment %} If the featured media is true, show card media. Else, show card content text only {% endcomment %}
            {%- if product_card_product.featured_media -%}
                <div {% if add_image_padding %} class="card__media-full-spacer" {% endif %}>
                    <div class="media media--transparent media--{{ media_size }} media-hover-effect">
                        <img
                        src="{{ product_card_product.featured_media | img_url: '533x' }}"
                        alt="{{ product_card_product.featured_media.alt | escape }}"
                        loading="lazy"
                        class="motion-reduce"
                        width="product_card_product.featured_media.width"
                        height="product_card_product.featured_media.height"
                        >
                    </div>
                </div>
            {%- else -%}
            <div class="card-content">
                <h2 class="card__text h3">
                    <a href="{{ product_card_product.url | default: '#' }}">{{ product_card_product.title }}</a>
                </h2>
            </div>
            {%- endif -%}
        </div>
    </div>
</div>